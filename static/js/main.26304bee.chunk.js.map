{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPopup.js","components/DeletePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","_jsx","className","children","CurrentUserContext","React","createContext","Card","_ref","card","onCardClick","onCardLike","onCardDeleteClick","owner","link","name","likes","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","concat","isLiked","some","i","cardLikeButtonClassName","_jsxs","src","alt","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","id","about","map","post","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","buttonText","onSubmit","popupClass","formClass","method","EditProfilePopup","onEditUser","_React$useState","useState","_React$useState2","_slicedToArray","setName","_React$useState3","_React$useState4","setAbout","useEffect","e","preventDefault","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPopup","onAddPost","setMesto","setLink","DeletePostPopup","onDeletePlace","api","Api","url","token","_classCallCheck","checkResult","res","ok","json","Promise","reject","status","this","_url","_authorizationToken","_headers","authorization","_createClass","key","fetch","headers","then","data","body","JSON","stringify","cardId","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setisAddCardPopupOpen","_React$useState5","_React$useState6","isAvatarProfilePopupOpen","setisAvatarProfilePopupOpen","_React$useState7","_React$useState8","selectedCard","setSelectedCard","_React$useState9","_React$useState10","isImagePopupOpenen","setIsImagePopupOpenen","closeAllPopups","setIsDeletePopupOpenen","_React$useState11","_React$useState12","setCurrentUser","getUserInfo","catch","err","console","log","_React$useState13","_React$useState14","setCards","getInitialCards","_React$useState15","_React$useState16","isDeletePopupOpenen","Provider","deleteLike","newCard","state","c","addLike","editProfile","addPlace","_toConsumableArray","addAvatar","DeletePopup","deletePost","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.26304bee.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n        <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n  \nexport default Header;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nexport default function Card({card, onCardClick, onCardLike, onCardDeleteClick}) {\n    const {owner, link, name, likes } = card;\n    const currentUser = React.useContext(CurrentUserContext);\n  /* const {\n    card: { link, name, likes }\n  } = props; */\n  const isOwn = owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `places__delete ${isOwn && 'places__delete_not-visible'}`;\n\n  const isLiked = likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `places__like ${\n    isLiked && 'places__like_active'}`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDeleteClick(card);\n  }\n  return(\n    <div className=\"places__card\">\n        <img \n        src={link}\n        alt={name} \n        className=\"places__image\" \n        onClick={handleClick}\n        />\n        <h2 className=\"places__title\">{name} </h2>\n        <div className=\"places__like-container\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n            <p className=\"places__like-number\">{likes.length}</p>\n        </div>\n        {/* <!-- <button type=\"button\" className=\"places__like\"></button> --> */}\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n    </div>\n  );\n}","import React from 'react';\n//import {api}  from '../utils/Api'\nimport Card from './Card'\nimport '../index.css';\n//////\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n//////\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDeleteClick, cards}) {\n  //////////////////////////////////////////\n  const currentUser = React.useContext(CurrentUserContext);\n  \n\n//////////////////////////////////////////\n  return (\n    <main>\n        <section className=\"profile\">\n            <div className=\"profile__avatar\"  onClick={onEditAvatar}>\n              <img src={currentUser.avatar} alt=\"avatar\" className=\"profile__foto-avatar\" />\n            </div>\n            <div className=\"profile__text-group\">\n                <div className=\"profile__title-box\">\n                    <h1 className=\"profile__title\">{currentUser.name }</h1>\n                    <button type=\"button\" className=\"profile__edit\" id=\"profE\" onClick={onEditProfile}></button>\n                </div>\n                <p className=\"profile__subtitle\">{currentUser.about }</p>\n            </div>\n            <button type=\"button\" className=\"profile__add\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"places\">\n          {cards.map((post) => (\n          <Card card={post}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDeleteClick={onCardDeleteClick}\n            key={post._id} />\n        ))}\n        </section>\n           \n    </main>\n\n  );\n}\n  \nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__author\">&copy; 2021. Иван Серов</p>\n    </footer>\n  );\n}\n  \nexport default Footer;","import React from \"react\";\n\nexport default function ImagePopup({ isOpen, card, onClose }) {\n    \n    return (\n        <div className={`popup popup_img ${isOpen && \"popup_opened\"}`} id=\"popup-image\">\n            <div className=\"popup__container\">\n                <button onClick={onClose} type=\"button\" className=\"popup__close\" id=\"popup-close-image\"></button>\n                <img \n                    src={card ? card.link : \"#\"}\n                    alt={card ? card.name : \"\"}\n                    className=\"popup__image\" />\n                <h2  className=\"popup__title popup__title_img\">\n                    {card ? card.name : \"\"}\n                </h2>\n            </div>\n    \n        </div>\n    );\n\n}","import React from \"react\";\n\nexport default function PopupWithForm({ name, title, children, isOpen, onClose, buttonText, onSubmit }) {\n\n  const popupClass = `popup ${isOpen && \"popup_opened\"}`;\n  const formClass = `popup__form popup__form_${name}`;\n  return (\n    <div className={popupClass} >\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n        <form className={formClass} method=\"POST\" name={name} onSubmit={onSubmit}>\n            <h2 className=\"popup__title\">{title}</h2>\n            {children}\n            \n            <button type=\"submit\" className=\"popup__save\">{buttonText}</button>\n        </form>\n        \n      </div>\n    </div>\n  );\n}","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onEditUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setAbout(currentUser.about || '');\n    \n  }, [currentUser, isOpen]);\n\n  function handleChangeInputName(e) {\n    setName(e.target.value);\n    \n  }\n\n  function handleChangeInputAbout(e) {\n    setAbout(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    \n    onEditUser({\n      name,\n      about,\n    });\n  }\n  \n  return (\n    <PopupWithForm \n    isOpen={isOpen}\n    onClose={onClose}\n    onSubmit={handleSubmit}\n    title=\"Редактировать профиль\"\n    buttonText=\"Сохранить\"\n  >\n        <input name=\"name\" \n            id=\"user\" \n            type=\"text\" \n            placeholder=\"Имя\" \n            className=\"popup__input popup__input_type_user\" \n            minLength=\"2\" \n            maxLength=\"40\" \n            required \n            value={name}\n            onChange={handleChangeInputName}\n            />\n        <span id=\"user-error\" className=\"error\"></span>\n        <input \n            name=\"about\" \n            id=\"user-information\" \n            type=\"text\" \n            placeholder=\"О себе\" \n            className=\"popup__input popup__input_type_user-information\" \n            minLength=\"2\" \n            maxLength=\"200\" \n            required \n            value={about}\n            onChange={handleChangeInputAbout}/>\n        <span id=\"user-information-error\" className=\"error\"></span>\n  </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n\n  }\n\n  return (\n    <PopupWithForm \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Обновить аватар\"\n        name= \"avatar\"\n        buttonText=\"Сохранить\"\n  >\n        <input \n            name=\"avatar\" \n            id=\"link-avatar\" \n            type=\"url\" \n            placeholder=\"Ссылка на картинку\" \n            className=\"popup__input popup__input_type_image-link\" \n            required \n            ref={avatarRef}\n            />\n        <span id=\"link-avatar-error\" className=\"error\"></span>\n\n  </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPopup({ isOpen, onClose, onAddPost }) {\n  const [name, setMesto] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeInputMesto(e) {\n    setMesto(e.target.value);\n  }\n\n  function handleChangeInputLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPost({\n      name,\n      link,\n    });\n\n    setMesto(\"\");\n    setLink(\"\");\n  }\n\n  return (\n    <PopupWithForm \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Новое место\"\n        buttonText=\"Создать\"\n    >\n        <input name=\"name\" \n            id=\"title-location\" \n            type=\"text\" \n            placeholder=\"Название\" \n            className=\"popup__input popup__input_type_title\" \n            minLength=\"2\" maxLength=\"30\" \n            required \n            value={name}\n            onChange={handleChangeInputMesto}/>\n        <span id=\"title-location-error\" className=\"error\"></span>\n        <input name=\"link\" \n            id=\"link-image\" \n            type=\"url\" \n            placeholder=\"Ссылка на картинку\" \n            className=\"popup__input popup__input_type_image-link\" \n            required \n            value={link}\n            onChange={handleChangeInputLink}/>\n        <span id=\"link-image-error\" className=\"error\"></span>\n    </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function DeletePostPopup({\n  isOpen,\n  onClose,\n  card,\n  onDeletePlace,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeletePlace(card);\n  }\n\n  return (\n    <PopupWithForm \n        \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Вы уверены?\"\n        name= \"delete\"\n        buttonText=\"Да\"\n    />\n  );\n}","class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._authorizationToken = token;\n    this._headers ={authorization:this._authorizationToken, 'Content-Type': 'application/json'};\n  }\n  getUserInfo() {\n    return fetch(this._url +'/users/me', {\n      method: 'GET',\n      headers: {\n        authorization: this._authorizationToken\n      }})\n    .then(this.checkResult);\n  }\n  getInitialCards() {\n    return fetch(this._url +'/cards', {\n      headers: {\n        authorization: this._authorizationToken\n      }})\n    .then(this.checkResult);\n  }\n  editProfile(data){\n    return fetch(this._url +'/users/me', {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify(data)\n      })\n    .then(this.checkResult);\n  }\n  addPlace(data){\n    return fetch(this._url +'/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this.checkResult);\n  }\n  deletePost(cardId) {\n    return fetch(this._url + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  addLike(cardId){\n    return fetch(this._url + '/cards/likes/' + cardId, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  deleteLike(cardId){\n    return fetch(this._url + '/cards/likes/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  addAvatar(avatar){\n    return fetch(this._url +'/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    })\n    .then(this.checkResult);\n  }\n  checkResult = res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n}\nexport const api = new Api('https://nomoreparties.co/v1/cohort-28', 'd0022a9e-a6be-4d9a-ab6e-3949875c7c34');","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport ImagePopup from './ImagePopup';\n////////////////\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPopup from \"./AddPopup\";\nimport DeletePopup from \"./DeletePopup\";\nimport {api}  from '../utils/Api'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  ////////////////////////////////////////////\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  const [isAddCardPopupOpen, setisAddCardPopupOpen] = React.useState(false);\n  function handleAddCardClick() {\n    setisAddCardPopupOpen(true);\n  }\n  const [isAvatarProfilePopupOpen, setisAvatarProfilePopupOpen] = React.useState(false);\n  function handleAvatarProfileClick() {\n    setisAvatarProfilePopupOpen(true);\n  }\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpenen(true);\n  }\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setisAddCardPopupOpen(false);\n    setisAvatarProfilePopupOpen(false);\n    setSelectedCard(null);\n    setIsDeletePopupOpenen(false);\n    setIsImagePopupOpenen(false);\n  }\n  ////////////////////////////////////////////\n  const [currentUser, setCurrentUser] = React.useState({});\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  \n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  ///////////////////////////////////////////\n  function handleCardLike(card){\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    }\n    \n  } \n////////////////\n  function handleEditUser(data) {\n  \n    api\n      .editProfile(data)\n      .then((data) => {\n        setCurrentUser(data);\n        //console.log(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .addAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleAddPlace(data) {\n    api\n      .addPlace(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  const [isDeletePopupOpenen, setIsDeletePopupOpenen] =React.useState(false);\n  function handleCardDeleteClick(card) {\n    setIsDeletePopupOpenen(true);\n    ////\n\n    ////\n    setSelectedCard(card);\n  }\n  function handleDeletePlace(card) {\n    api\n      .deletePost(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main \n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddCardClick}\n        onEditAvatar={handleAvatarProfileClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDeleteClick={handleCardDeleteClick}\n        cards={cards}\n      />\n      <Footer />\n      <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onEditUser={handleEditUser}\n      />\n      <AddPopup\n          isOpen={isAddCardPopupOpen}\n          onClose={closeAllPopups}\n          onAddPost={handleAddPlace}\n        />\n      <EditAvatarPopup\n          isOpen={isAvatarProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n      />\n      <ImagePopup \n        isOpen={isImagePopupOpenen}\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <DeletePopup\n          isOpen={isDeletePopupOpenen}\n          onClose={closeAllPopups}\n          card={selectedCard}\n          onDeletePlace={handleDeletePlace}\n        />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}