{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPopup.js","components/DeletePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDeleteClick","owner","link","name","likes","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","src","alt","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","id","about","map","post","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","buttonText","onSubmit","popupClass","formClass","method","EditProfilePopup","onEditUser","useState","setName","setAbout","useEffect","e","preventDefault","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPopup","onAddPost","setMesto","setLink","DeletePostPopup","onDeletePlace","api","url","token","checkResult","res","ok","json","Promise","reject","status","this","_url","_authorizationToken","_headers","authorization","fetch","headers","then","data","body","JSON","stringify","cardId","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setisAddCardPopupOpen","isAvatarProfilePopupOpen","setisAvatarProfilePopupOpen","selectedCard","setSelectedCard","isImagePopupOpenen","setIsImagePopupOpenen","closeAllPopups","setIsDeletePopupOpenen","setCurrentUser","getUserInfo","catch","err","console","log","setCards","getInitialCards","isDeletePopupOpenen","Provider","deleteLike","newCard","state","c","addLike","editProfile","addPlace","addAvatar","deletePost","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.802513eb.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n        <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n  \nexport default Header;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nexport default function Card({card, onCardClick, onCardLike, onCardDeleteClick}) {\n    const {owner, link, name, likes } = card;\n    const currentUser = React.useContext(CurrentUserContext);\n  /* const {\n    card: { link, name, likes }\n  } = props; */\n  const isOwn = owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `places__delete ${isOwn && 'places__delete_not-visible'}`;\n\n  const isLiked = likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `places__like ${\n    isLiked && 'places__like_active'}`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDeleteClick(card);\n  }\n  return(\n    <div className=\"places__card\">\n        <img \n        src={link}\n        alt={name} \n        className=\"places__image\" \n        onClick={handleClick}\n        />\n        <h2 className=\"places__title\">{name} </h2>\n        <div className=\"places__like-container\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n            <p className=\"places__like-number\">{likes.length}</p>\n        </div>\n        {/* <!-- <button type=\"button\" className=\"places__like\"></button> --> */}\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n    </div>\n  );\n}","import React from 'react';\n//import {api}  from '../utils/Api'\nimport Card from './Card'\nimport '../index.css';\n//////\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n//////\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDeleteClick, cards}) {\n  //////////////////////////////////////////\n  const currentUser = React.useContext(CurrentUserContext);\n  \n\n//////////////////////////////////////////\n  return (\n    <main>\n        <section className=\"profile\">\n            <div className=\"profile__avatar\"  onClick={onEditAvatar}>\n              <img src={currentUser.avatar} alt=\"avatar\" className=\"profile__foto-avatar\" />\n            </div>\n            <div className=\"profile__text-group\">\n                <div className=\"profile__title-box\">\n                    <h1 className=\"profile__title\">{currentUser.name }</h1>\n                    <button type=\"button\" className=\"profile__edit\" id=\"profE\" onClick={onEditProfile}></button>\n                </div>\n                <p className=\"profile__subtitle\">{currentUser.about }</p>\n            </div>\n            <button type=\"button\" className=\"profile__add\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"places\">\n          {cards.map((post) => (\n          <Card card={post}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDeleteClick={onCardDeleteClick}\n            key={post._id} />\n        ))}\n        </section>\n           \n    </main>\n\n  );\n}\n  \nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__author\">&copy; 2021. Иван Серов</p>\n    </footer>\n  );\n}\n  \nexport default Footer;","import React from \"react\";\n\nexport default function ImagePopup({ isOpen, card, onClose }) {\n    \n    return (\n        <div className={`popup popup_img ${isOpen && \"popup_opened\"}`} id=\"popup-image\">\n            <div className=\"popup__container\">\n                <button onClick={onClose} type=\"button\" className=\"popup__close\" id=\"popup-close-image\"></button>\n                <img \n                    src={card ? card.link : \"#\"}\n                    alt={card ? card.name : \"\"}\n                    className=\"popup__image\" />\n                <h2  className=\"popup__title popup__title_img\">\n                    {card ? card.name : \"\"}\n                </h2>\n            </div>\n    \n        </div>\n    );\n\n}","import React from \"react\";\n\nexport default function PopupWithForm({ name, title, children, isOpen, onClose, buttonText, onSubmit }) {\n\n  const popupClass = `popup ${isOpen && \"popup_opened\"}`;\n  const formClass = `popup__form popup__form_${name}`;\n  return (\n    <div className={popupClass} >\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n        <form className={formClass} method=\"POST\" name={name} onSubmit={onSubmit}>\n            <h2 className=\"popup__title\">{title}</h2>\n            {children}\n            \n            <button type=\"submit\" className=\"popup__save\">{buttonText}</button>\n        </form>\n        \n      </div>\n    </div>\n  );\n}","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onEditUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setAbout(currentUser.about || '');\n    \n  }, [currentUser, isOpen]);\n\n  function handleChangeInputName(e) {\n    setName(e.target.value);\n    \n  }\n\n  function handleChangeInputAbout(e) {\n    setAbout(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    \n    onEditUser({\n      name,\n      about,\n    });\n  }\n  \n  return (\n    <PopupWithForm \n    isOpen={isOpen}\n    onClose={onClose}\n    onSubmit={handleSubmit}\n    title=\"Редактировать профиль\"\n    buttonText=\"Сохранить\"\n  >\n        <input name=\"name\" \n            id=\"user\" \n            type=\"text\" \n            placeholder=\"Имя\" \n            className=\"popup__input popup__input_type_user\" \n            minLength=\"2\" \n            maxLength=\"40\" \n            required \n            value={name}\n            onChange={handleChangeInputName}\n            />\n        <span id=\"user-error\" className=\"error\"></span>\n        <input \n            name=\"about\" \n            id=\"user-information\" \n            type=\"text\" \n            placeholder=\"О себе\" \n            className=\"popup__input popup__input_type_user-information\" \n            minLength=\"2\" \n            maxLength=\"200\" \n            required \n            value={about}\n            onChange={handleChangeInputAbout}/>\n        <span id=\"user-information-error\" className=\"error\"></span>\n  </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n\n  }\n\n  return (\n    <PopupWithForm \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Обновить аватар\"\n        name= \"avatar\"\n        buttonText=\"Сохранить\"\n  >\n        <input \n            name=\"avatar\" \n            id=\"link-avatar\" \n            type=\"url\" \n            placeholder=\"Ссылка на картинку\" \n            className=\"popup__input popup__input_type_image-link\" \n            required \n            ref={avatarRef}\n            />\n        <span id=\"link-avatar-error\" className=\"error\"></span>\n\n  </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPopup({ isOpen, onClose, onAddPost }) {\n  const [name, setMesto] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeInputMesto(e) {\n    setMesto(e.target.value);\n  }\n\n  function handleChangeInputLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPost({\n      name,\n      link,\n    });\n\n    setMesto(\"\");\n    setLink(\"\");\n  }\n\n  return (\n    <PopupWithForm \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Новое место\"\n        buttonText=\"Создать\"\n    >\n        <input name=\"name\" \n            id=\"title-location\" \n            type=\"text\" \n            placeholder=\"Название\" \n            className=\"popup__input popup__input_type_title\" \n            minLength=\"2\" maxLength=\"30\" \n            required \n            value={name}\n            onChange={handleChangeInputMesto}/>\n        <span id=\"title-location-error\" className=\"error\"></span>\n        <input name=\"link\" \n            id=\"link-image\" \n            type=\"url\" \n            placeholder=\"Ссылка на картинку\" \n            className=\"popup__input popup__input_type_image-link\" \n            required \n            value={link}\n            onChange={handleChangeInputLink}/>\n        <span id=\"link-image-error\" className=\"error\"></span>\n    </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function DeletePostPopup({\n  isOpen,\n  onClose,\n  card,\n  onDeletePlace,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeletePlace(card);\n  }\n\n  return (\n    <PopupWithForm \n        \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Вы уверены?\"\n        name= \"delete\"\n        buttonText=\"Да\"\n    />\n  );\n}","class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._authorizationToken = token;\n    this._headers ={authorization:this._authorizationToken, 'Content-Type': 'application/json'};\n  }\n  getUserInfo() {\n    return fetch(this._url +'/users/me', {\n      method: 'GET',\n      headers: {\n        authorization: this._authorizationToken\n      }})\n    .then(this.checkResult);\n  }\n  getInitialCards() {\n    return fetch(this._url +'/cards', {\n      headers: {\n        authorization: this._authorizationToken\n      }})\n    .then(this.checkResult);\n  }\n  editProfile(data){\n    return fetch(this._url +'/users/me', {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify(data)\n      })\n    .then(this.checkResult);\n  }\n  addPlace(data){\n    return fetch(this._url +'/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this.checkResult);\n  }\n  deletePost(cardId) {\n    return fetch(this._url + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  addLike(cardId){\n    return fetch(this._url + '/cards/likes/' + cardId, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  deleteLike(cardId){\n    return fetch(this._url + '/cards/likes/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  addAvatar(avatar){\n    return fetch(this._url +'/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    })\n    .then(this.checkResult);\n  }\n  checkResult = res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n}\nexport const api = new Api('https://nomoreparties.co/v1/cohort-28', 'd0022a9e-a6be-4d9a-ab6e-3949875c7c34');","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport ImagePopup from './ImagePopup';\n////////////////\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPopup from \"./AddPopup\";\nimport DeletePopup from \"./DeletePopup\";\nimport {api}  from '../utils/Api'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  ////////////////////////////////////////////\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  const [isAddCardPopupOpen, setisAddCardPopupOpen] = React.useState(false);\n  function handleAddCardClick() {\n    setisAddCardPopupOpen(true);\n  }\n  const [isAvatarProfilePopupOpen, setisAvatarProfilePopupOpen] = React.useState(false);\n  function handleAvatarProfileClick() {\n    setisAvatarProfilePopupOpen(true);\n  }\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpenen(true);\n  }\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setisAddCardPopupOpen(false);\n    setisAvatarProfilePopupOpen(false);\n    setSelectedCard(null);\n    setIsDeletePopupOpenen(false);\n    setIsImagePopupOpenen(false);\n  }\n  ////////////////////////////////////////////\n  const [currentUser, setCurrentUser] = React.useState({});\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  \n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  ///////////////////////////////////////////\n  function handleCardLike(card){\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    }\n    \n  } \n////////////////\n  function handleEditUser(data) {\n  \n    api\n      .editProfile(data)\n      .then((data) => {\n        setCurrentUser(data);\n        //console.log(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .addAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleAddPlace(data) {\n    api\n      .addPlace(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  const [isDeletePopupOpenen, setIsDeletePopupOpenen] =React.useState(false);\n  function handleCardDeleteClick(card) {\n    setIsDeletePopupOpenen(true);\n    ////\n\n    ////\n    setSelectedCard(card);\n  }\n  function handleDeletePlace(card) {\n    api\n      .deletePost(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main \n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddCardClick}\n        onEditAvatar={handleAvatarProfileClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDeleteClick={handleCardDeleteClick}\n        cards={cards}\n      />\n      <Footer />\n      <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onEditUser={handleEditUser}\n      />\n      <AddPopup\n          isOpen={isAddCardPopupOpen}\n          onClose={closeAllPopups}\n          onAddPost={handleAddPlace}\n        />\n      <EditAvatarPopup\n          isOpen={isAvatarProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n      />\n      <ImagePopup \n        isOpen={isImagePopupOpenen}\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <DeletePopup\n          isOpen={isDeletePopupOpenen}\n          onClose={closeAllPopups}\n          card={selectedCard}\n          onDeletePlace={handleDeletePlace}\n        />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}